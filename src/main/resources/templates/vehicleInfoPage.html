<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<link type="text/css" rel="stylesheet" href="/layui/css/layui.css">
<link type="text/css" rel="stylesheet" href="/layui/css/layui.mobile.css">
<script type="text/javascript" src="/public/js/jquery-3.4.1.min.js"></script>
<script type="text/javascript" src="/layui/layui.all.js"></script>
<script type="text/javascript" src="/layui/layui.js"></script>
<style>
    <!-- 清除浮动 -->
    .clearfix:after{
        clear: both;
        content: ".";
        display: block;
        visibility: hidden;
    }
    .wrapper{
        margin: 20px 0 0 0;
    }
</style>
<body>
    <div class="wrapper">
        <!--<form class="layui-form" lay-filter="selectForm"> &lt;!&ndash; 提示：如果你不想用form，你可以换成div等任何一个普通元素 &ndash;&gt;-->
            <!--<div class="layui-form-item">-->
                <!--<label class="layui-form-label">输入框</label>-->
                <!--<div class="layui-input-block">-->
                    <!--<input type="text" name="" placeholder="请输入" autocomplete="off" class="layui-input">-->
                <!--</div>-->
            <!--</div>-->
        <!--</form>-->
        <div class="layui-form" lay-filter="selectForm">
            <div class="layui-form-item layui-input-inline">
                <label class="layui-form-label">车牌号</label>
                <div class="layui-input-block">
                    <input class="filter-by-vehicleBrand layui-input" type="text" name="vehicleBrandId" required lay-verify="required" autocomplete="off">
                </div>
            </div>
            <div class="layui-form-item layui-input-inline">
                <div class="layui-input-block">
                    <button class="layui-btn layui-btn-normal select-submit" lay-submit lay-filter="selectForm">查询</button>
                </div>
            </div>
        </div>
        <form class="layui-form" lay-filter="optionSelectForm">
            <div class="layui-form-item layui-input-inline">
                <label class="layui-form-label">厂牌</label>
                <div class="layui-input-block">
                    <select id="vehicleBrand-select" lay-filter="optionSelectForm" name="vehicleLicense" lay-verify="required">
                    </select>
                </div>
            </div>
        </form>
    </div>
    <table class="layui-show" id="demo" lay-filter="test" lay-size="sm">
        <!--<tr>-->
            <!--<th>车牌号</th>-->
            <!--<th>类型</th>-->
            <!--<th>等级</th>-->
            <!--<th>行驶证编号</th>-->
            <!--<th>厂牌</th>-->
            <!--<th>载客数</th>-->
            <!--<th>状态</th>-->
            <!--<th>上户日期</th>-->
            <!--<th>所属供应商</th>-->
            <!--<th>调度权</th>-->
            <!--<th>业务用途</th>-->
            <!--<th>最近绑定产品</th>-->
        <!--</tr>-->
    </table>
    <script th:inline="none" >
        // 预先加载表格模块与表单模块
        layui.use(['table','form','upload'], function(){
            var $ = layui.jquery;   //引入jq模块
            var table = layui.table;

            $(function () {
                $.post("/vehicleInfo/queryAllVehicleBrand",function (res) {
                    $('#vehicleBrand-select').append(new Option("全部", -1));
                    $.each(res.data[0], function (index, item) {
                        $('#vehicleBrand-select').append(new Option(item.fieldName, item.fieldId));// 下拉菜单里添加元素
                    });
                    layui.form.render();
                });
            });

            function loadTable(url,jsonData){
                // 数据表格绘制
                table.render({
                    elem: '#demo',
                    height: 512,
                    url: url, //数据接口
                    where: jsonData, //其他请求参数
                    method: "post",
                    // 对分页请求的参数：page、limit重新设定名称
                    request:{
                        pageName: 'pageNum', //页码的参数名称，默认：page
                        limitName: 'pageSize', //每页数据量的参数名，默认：limit
                    },
                    // 将请求返回的任意数据格式解析成 table 组件规定的json格式（table 组件所规定的数据，详见： response 参数介绍）
                    // 除了使用pareData之外，还可以使用response重新规定返回的数据格式
                    parseData: function(res){ //res 即为原始返回的数据
                        var data;
                        // 请求成功
                        if (res.status == 200){
                            data = {
                                "code": 0, //解析接口状态
                                "msg": res.message, //解析提示文本
                                "count":  res.data[0].total, //数据总条数
                                "data": res.data[0].list //解析数据列表
                            };
                        } else {
                            data =  {
                                "code": res.status, //解析接口状态
                                "msg": res.message, //解析提示文本
                                "count":0, //解析数据长度
                                "data": null //解析数据列表
                            };
                        }
                        return data;
                    },
                    // 表头
                    // 报错的位置提示cols：[[...]],就是[[]]里面的内容不能渲染。[[]]是thymeleaf的内联表达式，可以在cols的后面换行。或者在script标签里 th:inline="none"
                    cols: [[
                        {type: 'checkbox', fixed: 'left'},
                        {field: 'id', title: 'ID', width:80, sort: true, fixed: 'left', hide: true},
                        {field: 'vehicleLicense', title: '车牌号', width:135} ,
                        {field: 'vehicleType', title: '类型', width:80, },
                        {field: 'level', title: '等级', width:80},
                        {field: 'drivingLicenseNumber', title: '行驶证编号', width: 140},
                        {field: 'vehicleBrand', title: '厂牌', width: 120},
                        {field: 'seatsOfGuests', title: '载客数', width: 90, sort: true},
                        {field: 'annualReviewStatus', title: '状态', width: 90},
                        {field: 'dateInitialRegistration', title: '上户日期', width: 180, sort: true},
                        {field: 'subordinateSuppliers', title: '所属供应商', width: 135},
                        {field: 'dispatchingRight', title: '调度权', width: 80,},
                        {field: 'businessPurpose', title: '业务用途', width: 90,},
                        {field: 'wealth', title: '最近绑定产品', width: 250,}
                    ]],
                    cellMinWidth: 80,
                    // 分页设置
                    page: true ,//开启分页
                    limit:10 ,  //默认十条数据一页
                    limits:[10,20,30,50],  //数据分页条
                    //开启工具栏，此处显示默认图标，可以自定义模板，详见文档
                    toolbar: '#toolbarDemo'
                });
            }

            // 数据表格绘制
            table.render({
                elem: '#demo',
                height: 512,
                url: '/vehicleInfo/queryInfoList', //数据接口
                method: "post",
                // 对分页请求的参数：page、limit重新设定名称
                request:{
                    pageName: 'pageNum', //页码的参数名称，默认：page
                    limitName: 'pageSize', //每页数据量的参数名，默认：limit
                },
                // 将请求返回的任意数据格式解析成 table 组件规定的json格式（table 组件所规定的数据，详见： response 参数介绍）
                // 除了使用pareData之外，还可以使用response重新规定返回的数据格式
                parseData: function(res){ //res 即为原始返回的数据
                    var data;
                    // 请求成功
                    if (res.status == 200){
                        data = {
                            "code": 0, //解析接口状态
                            "msg": res.message, //解析提示文本
                            "count":  res.data[0].total, //数据总条数
                            "data": res.data[0].list //解析数据列表
                        };
                    } else {
                        data =  {
                            "code": res.status, //解析接口状态
                            "msg": res.message, //解析提示文本
                            "count":0, //解析数据长度
                            "data": null //解析数据列表
                        };
                    }
                    return data;
                },
                // 表头
                // 报错的位置提示cols：[[...]],就是[[]]里面的内容不能渲染。[[]]是thymeleaf的内联表达式，可以在cols的后面换行。或者在script标签里 th:inline="none"
                cols: [[
                    {type: 'checkbox', fixed: 'left'},
                    {field: 'id', title: 'ID', width:80, sort: true, fixed: 'left', hide: true},
                    {field: 'vehicleLicense', title: '车牌号', width:135} ,
                    {field: 'vehicleType', title: '类型', width:80, },
                    {field: 'level', title: '等级', width:80},
                    {field: 'drivingLicenseNumber', title: '行驶证编号', width: 140},
                    {field: 'vehicleBrand', title: '厂牌', width: 120},
                    {field: 'seatsOfGuests', title: '载客数', width: 90, sort: true},
                    {field: 'annualReviewStatus', title: '状态', width: 90},
                    {field: 'dateInitialRegistration', title: '上户日期', width: 180, sort: true},
                    {field: 'subordinateSuppliers', title: '所属供应商', width: 135},
                    {field: 'dispatchingRight', title: '调度权', width: 80,},
                    {field: 'businessPurpose', title: '业务用途', width: 90,},
                    {field: 'wealth', title: '最近绑定产品', width: 250,}
                ]],
                cellMinWidth: 80,
                // 分页设置
                page: true ,//开启分页
                limit:10 ,  //默认十条数据一页
                limits:[10,20,30,50],  //数据分页条
                //开启工具栏，此处显示默认图标，可以自定义模板，详见文档
                toolbar: '#toolbarDemo'
            });

            //监听复选框选择
          /*  table.on('checkbox(test)', function(obj){
              /!*  console.log(obj.checked); //当前是否选中状态
                console.log(obj.data); //选中行的相关数据
                console.log(obj.type); //如果触发的是全选，则为：all，如果触发的是单选，则为：one*!/
                console.log(obj.data.id)
            });*/

            //监听头工具事件
            table.on('toolbar(test)', function(obj){ //注：tool 是工具条事件名，test 是 table 原始容器的属性 lay-filter="对应的值"
                //获得当前行数据
                // console.log(obj.data);
                var checkStatus = table.checkStatus(obj.config.id);
                var element = layui.element;
                switch(obj.event){//获得 lay-event 对应的值
                    case 'insert':
                        // layer.msg('添加');
                        //Ajax获取数据，动态初始化下拉框与单选按钮
                        $.get('/vehicleInfo/registerPage', function(res){
                            var data = res.data[0];
                          /*  $.each(data, function (index1, item1) {
                                $.each(item1,function (index2, item2) {
                                   console.log(item2)
                                });
                            });*/
                         /* var array = data.vehicleMaintenanceStatus;
                            $.each(array, function(i, value) {
                                console.log(value);
                            });*/
                            //获取后台数据，重新渲染表单
                            formRender(form,data);
                            layer.open({
                                type: 1,
                                title: '车辆注册',
                                area: ['1080px', '700px'],
                                shadeClose: false, //点击遮罩关闭
                                content: $('.add-main'),
                                btn: ['确定', '取消'],
                            });
                        });
                        break;
                    case 'edit':
                        // layer.alert(JSON.stringify(data));
                        var checkStatus = table.checkStatus(obj.config.id);
                        //获取所有选择的数据使用Object.prototype.toString.call(data)，typeof 和 instanceof实际在使用中是有一些问题的
                        var data = checkStatus.data;
                        // 判断类型
                        //未选择
                       /* if ( Object.prototype.toString.call(data) === '[object undefined]') {
                            return layer.msg("请选择需要编辑的值！");
                        }*/
                       if ( data.length ==0) {
                           return layer.msg("请选择需要编辑的值！");
                       }
                        if ( data.length > 1 ) {
                            return layer.msg("请不要选择多条数据！");
                        }
                        $.post("/vehicleInfo/vehicleId/"+data[0].id,function (res) {
                            if (res.status == 200){
                                //原数据
                                var oldData = res.data[0];
                                //选项参数
                                // console.log(res.data[1][0])
                                formRender(form,res.data[1]);
                                layer.open({
                                    type: 1,
                                    title: '车辆信息编辑',
                                    area: ['1080px', '700px'],
                                    shadeClose: false, //点击遮罩关闭
                                    content: $('.edit-main'),
                                    btn: ['确定', '取消'],
                                    //弹出层弹出完毕时即执行一些语句
                                    success: function (layero, index){
                                        var body = layer.getChildFrame('body', index);//获取弹出层的dom元素
                                        // 表单初始化
                                        // "addForm"是form标签中lay-filter="" 对应的值
                                        form.val("addForm", {
                                            "id":oldData.id
                                            ,"vehicleLicense": oldData.vehicleLicense
                                            ,"owener": oldData.owener
                                            ,"optionColorId": oldData.optionColorId
                                            ,"engineNumber": oldData.engineNumber
                                            ,"vehicleBrandId": oldData.vehicleBrandId
                                            ,"vehicleRackNumber": oldData.vehicleRackNumber
                                            ,"vehicleModel": oldData.vehicleModel
                                            ,"registerDate":oldData.registerDate
                                            ,"vehicleTypeId":oldData.vehicleTypeId
                                            ,"dateInitialRegistration":oldData.dateInitialRegistration
                                            ,"bodyColor": oldData.bodyColor
                                            ,"vehicleMaintenanceStatusId": oldData.vehicleMaintenanceStatusId
                                            ,"seatingCapacity": oldData.seatingCapacity
                                            ,"annualReviewStatusId": oldData.annualReviewStatusId
                                            ,"fuelTypeId": oldData.fuelTypeId
                                            ,"nextAnnualInspectionTime":oldData.nextAnnualInspectionTime
                                            ,"displacement": oldData.displacement
                                            ,"levelId": oldData.levelId
                                            ,"businessPurposeId": oldData.businessPurposeId
                                            ,"scopeOfBusinessId":  oldData.scopeOfBusinessId
                                            ,"subordinateSuppliersId": oldData.subordinateSuppliersId
                                            ,"seatsOfGuests": oldData.seatsOfGuests
                                            ,"mileage": oldData.mileage
                                            ,"drivingLicenseNumber": oldData.drivingLicenseNumber
                                            ,"dispatchingRightId": oldData.dispatchingRightId
                                            ,"remarks": oldData.remarks
                                        });
                                        // 图片回显
                                        var uploadImage = $("#uploadImage");
                                        uploadImage.attr("src",oldData.imageUrl);
                                        uploadImage.attr("style","width:100%;height:100%;display:block");
                                        // 隐藏 i标签中的图标
                                        $(".hide-custom").attr("style","display:none");
                                        // 将返回的图片地址赋值给id="imageUrl"的隐藏框
                                        $("#imageUrl").attr("value",oldData.imageUrl);
                                    }
                                });
                                // 刷新页面
                                // window.parent.location.reload();
                                return;
                            }
                            layer.msg("操作失败");
                        });
                        break;
                    case 'enable':
                        layer.msg('启用');
                        break;
                    case 'disable':
                        layer.msg('禁用');
                        break;
                    case 'delete':
                        var checkStatus = table.checkStatus(obj.config.id);
                        //获取所有选择的数据
                        var data = checkStatus.data;
                        var array = new Array();
                        $.each(data,function (index,item) {
                            //入栈
                            array.push(item.id)
                        });
                        console.log(array);
                        $.ajax({
                            "url":"/vehicleInfo/deleteVehicleInfo",
                            "type":"post",
                            "traditional":true, // 提交数组
                            "data":{"vehicleIds":array},
                            "success":function(res){
                                if (res.status == 200){
                                    return layer.msg("操作成功");
                                    // window.parent.location.reload();
                                }
                                layer.msg("操作失败");
                            }
                        })

                        break;
                };

                //监听提交
                form.on('submit(formDemo)', function(data){
                    // layer.msg(JSON.stringify(data.field));
                    var vehicleId = data.field.id;
                    // 没有id，添加,否则就是修改
                    if (vehicleId == undefined || vehicleId == ""){
                        $.post("/vehicleInfo/register",data.field,function(res){
                            if (res.status==200){
                                return layer.msg("操作成功");
                            }
                            layer.msg("操作失败");
                        });
                    } else {
                        $.post("/vehicleInfo/editVehicleInfo",data.field,function(res){
                            if (res.status==200){
                                return layer.msg("操作成功");
                            }
                            layer.msg("操作失败");
                        });
                    }
                    return false;
                });
                //筛选
                $(".select-submit").click(function () {

                });
                form.on('submit(selectForm)', function(data){
                    var url = "/vehicleInfo/queryByVehicleLicense";
                    var jsonData = {"vehicleLicense":data.field};
                    console.log(jsonData)
                    loadTable(url,jsonData);
                    return false;
                });
                // 监听厂牌下拉菜单
                form.on('select(optionSelectForm)', function(data){
                    var url = "/vehicleInfo/queryByVehicleBrand";
                    var jsonData = {"vehicleLicense":data.field};
                    console.log(jsonData)
                    loadTable(url,jsonData);
                    return false;
                });
                upload();
                //文件上传模块（自动上传，返回上传图片的地址）
                function upload(){
                    var upload = layui.upload; //引入文件上传模块
                    //普通图片上传
                    var uploadInst = upload.render({
                        elem: '#upload'
                        ,url: '/vehicleInfo/uploadFile'
                        ,done: function(res){
                            //上传失败
                            if(res.status == 201){
                                return layer.msg('上传失败');
                            }
                            //上传成功
                            var uploadImage = $("#uploadImage");
                            uploadImage.attr("src",res.data[0][0]);
                            uploadImage.attr("style","width:100%;height:100%;display:block");
                            // 隐藏 i标签中的图标
                            $(".hide-custom").attr("style","display:none");
                            // 将返回的图片地址赋值给id="imageUrl"的隐藏框
                            $("#imageUrl").attr("value",res.data[0][0]);
                        }
                        ,error: function(){
                            //上传失败
                            return layer.msg('上传失败，请重试!');
                        }
                    });
                };

                //获取后台数据，重新渲染表单（渲染表单中下拉框与单选按钮）
                function formRender(form,data){
                    // 1、清除html文本
                    $('#vehicleMaintenanceStatus').empty();
                    $('#vehicleBrand').empty();
                    $('#businessPurpose').empty();
                    $('#color').empty();
                    $('#fuelType').empty();
                    $('#level').empty();
                    $('#dispatchingRightId').empty();
                    $('#subordinateSuppliers').empty();
                    $('#annualReviewStatus').empty();
                    $('#scopeOfBusiness').empty();
                    $('#vehicleType').empty();

                    console.log(data.vehicleMaintenanceStatus);
                    // 2、重新初始化下拉框与单选按钮html文本
                    //车辆检修
                    $.each(data.vehicleMaintenanceStatus, function (index, item) {
                        // console.log(item);
                        $('#vehicleMaintenanceStatus').append(new Option(item.fieldName, item.fieldId));// 下拉菜单里添加元素
                    });
                    // 厂牌选项
                    $.each(data.vehicleBrand, function (index, item) {
                        $('#vehicleBrand').append(new Option(item.fieldName, item.fieldId));// 下拉菜单里添加元素
                    });
                    // 业务用途
                    $.each(data.businessPurpose, function (index, item) {
                        $('#businessPurpose').append(new Option(item.fieldName, item.fieldId));// 下拉菜单里添加元素
                    });
                    // 车牌颜色
                    $.each(data.color, function (index, item) {
                        $('#color').append(new Option(item.fieldName, item.fieldId));// 下拉菜单里添加元素
                    });
                    // 燃料类型
                    $.each(data.fuelType, function (index, item) {
                        $('#fuelType').append(new Option(item.fieldName, item.fieldId));// 下拉菜单里添加元素
                    });
                    //等级选项数据
                    $.each(data.level, function (index, item) {
                        $('#level').append(new Option(item.fieldName, item.fieldId));// 下拉菜单里添加元素
                    });
                    //调度权
                    $.each(data.dispatchingRight, function (index, item) {
                        $('#dispatchingRightId').append(item.fieldName+" <input type='radio' name='dispatchingRightId' value='"+item.fieldId+"' checked>");// 下拉菜单里添加元素
                    });
                    //供应商
                    $.each(data.subordinateSuppliers, function (index, item) {
                        $('#subordinateSuppliers').append(new Option(item.fieldName, item.fieldId));// 下拉菜单里添加元素
                    });
                    // 年审
                    $.each(data.annualReviewStatus, function (index, item) {
                        $('#annualReviewStatus').append(new Option(item.fieldName, item.fieldId));// 下拉菜单里添加元素
                    });
                    //运营范围
                    $.each(data.scopeOfBusiness, function (index, item) {
                        $('#scopeOfBusiness').append(new Option(item.fieldName, item.fieldId));// 下拉菜单里添加元素
                    });
                    //车辆类型
                    $.each(data.vehicleType, function (index, item) {
                        $('#vehicleType').append(new Option(item.fieldName, item.fieldId));// 下拉菜单里添加元素
                    });
                    // 更新全部（一定要加上，不然表单不会被重新渲染）
                    form.render();
                }
            });
        });
    </script>
    <script type="text/html" id="toolbarDemo">
        <div class="layui-btn-container">
            <button class="layui-btn layui-btn-sm" lay-event="insert">注册</button>
            <button class="layui-btn layui-btn-sm" lay-event="edit">编辑</button>
            <button class="layui-btn layui-btn-sm" lay-event="enable">启用</button>
            <button class="layui-btn layui-btn-sm" lay-event="disable">禁用</button>
            <button class="layui-btn layui-btn-sm" lay-event="delete">注销</button>
        </div>
    </script>
    <!-- 注册模态框 -->
    <div id="addmain" class="add-main edit-main"  style="display:none;/**需要设置为不显示**/">
        <div class="clearfix wrapper">
            <form class="layui-form" lay-filter="addForm">
                <!-- 左侧 -->
                <div class="lable-left" style="width: 65%;float: left">
                    <div class="layui-form-item layui-input-inline" style="display: none">
                        <label class="layui-form-label"><span style="color: #377aff">*</span>ID</label>
                        <div class="layui-input-block">
                            <input type="text" id="vehicleId" name="id" autocomplete="off" class="layui-input">
                        </div>
                    </div>
                    <div class="layui-form-item layui-input-inline">
                        <label class="layui-form-label"><span style="color: #377aff">*</span>车牌号</label>
                        <div class="layui-input-block">
                            <input type="text" name="vehicleLicense" required  lay-verify="required" autocomplete="off" class="layui-input">
                        </div>
                    </div>
                    <div class="layui-form-item layui-input-inline">
                        <label class="layui-form-label"><span style="color: #377aff">*</span>车辆所有人</label>
                        <div class="layui-input-block">
                            <input type="text" name="owener" required lay-verify="required" autocomplete="off" class="layui-input">
                        </div>
                    </div>
                    <div class="layui-form-item layui-input-inline">
                        <label class="layui-form-label"><span style="color: #377aff">*</span>车牌颜色</label>
                        <div class="layui-input-block">
                            <select id="color" name="optionColorId" lay-verify="required">
                                <option value=""></option>
                            </select>
                        </div>
                    </div>
                    <div class="layui-form-item layui-input-inline">
                        <label class="layui-form-label"><span style="color: #377aff">*</span>发动机号</label>
                        <div class="layui-input-block">
                            <input class="layui-input" type="text" name="engineNumber" required lay-verify="required">
                        </div>
                    </div>
                    <div class="layui-form-item layui-input-inline">
                        <label class="layui-form-label"><span style="color: #377aff">*</span>车辆厂牌</label>
                        <div class="layui-input-block">
                            <select id="vehicleBrand" name="vehicleBrandId" lay-verify="required" >
                                <option value=""></option>
                            </select>
                        </div>
                    </div>
                    <div class="layui-form-item layui-input-inline">
                        <label class="layui-form-label"><span style="color: #377aff">*</span>车辆机架号</label>
                        <div class="layui-input-block">
                            <input class="layui-input" type="text" name="vehicleRackNumber" required lay-verify="required" >
                        </div>
                    </div>
                    <div class="layui-form-item layui-input-inline">
                        <label class="layui-form-label"><span style="color: #377aff">*</span>车辆型号</label>
                        <div class="layui-input-block">
                            <input class="layui-input" type="text" name="vehicleModel" required lay-verify="required">
                        </div>
                    </div>
                    <div class="layui-form-item layui-input-inline">
                        <label class="layui-form-label"><span style="color: #377aff">*</span>注册日期</label>
                        <div class="layui-input-block">
                            <input class="layui-input" type="text" name="registerDate"  required lay-verify="required">
                        </div>
                    </div>
                    <div class="layui-form-item layui-input-inline">
                        <label class="layui-form-label"><span style="color: #377aff">*</span>车辆类型</label>
                        <div class="layui-input-block">
                            <select id="vehicleType" name="vehicleTypeId" >
                                < <option value=""></option>
                            </select>
                        </div>
                    </div>
                    <div class="layui-form-item layui-input-inline">
                        <label class="layui-form-label"><span style="color: #377aff">*</span>初次登记日期</label>
                        <div class="layui-input-block">
                            <input  class="layui-input" type="text" name="dateInitialRegistration"  required lay-verify="required">
                        </div>
                    </div>
                    <div class="layui-form-item layui-input-inline">
                        <label class="layui-form-label"><span style="color: #377aff">*</span>车身颜色</label>
                        <div class="layui-input-block">
                            <input class="layui-input" type="text" name="bodyColor"  required lay-verify="required">
                        </div>
                    </div>
                    <div class="layui-form-item layui-input-inline">
                        <label class="layui-form-label"><span style="color: #377aff">*</span>车辆检修状态</label>
                        <div class="layui-input-block">
                            <select id="vehicleMaintenanceStatus" name="vehicleMaintenanceStatusId" lay-verify="required">
                                <option value=""></option>
                            </select>
                        </div>
                    </div>
                    <div class="layui-form-item layui-input-inline">
                        <label class="layui-form-label"><span style="color: #377aff">*</span>核定载客位</label>
                        <div class="layui-input-block">
                            <input class="layui-input" type="text" name="seatingCapacity" placeholder="包含驾驶员"  required lay-verify="required">
                        </div>
                    </div>
                    <div class="layui-form-item layui-input-inline">
                        <label class="layui-form-label"><span style="color: #377aff">*</span>车辆年审状态</label>
                        <div class="layui-input-block">
                            <select id="annualReviewStatus" name="annualReviewStatusId" lay-verify="required">
                                <option value=""></option>
                            </select>
                        </div>
                    </div>
                    <div class="layui-form-item layui-input-inline">
                        <label class="layui-form-label"><span style="color: #377aff">*</span>燃料类型</label>
                        <div class="layui-input-block">
                            <select id="fuelType" name="fuelTypeId" lay-verify="required" >
                                <option value=""></option>
                            </select>
                        </div>
                    </div>
                    <div class="layui-form-item layui-input-inline">
                        <label class="layui-form-label"><span style="color: #377aff">*</span>下次年检时间</label>
                        <div class="layui-input-block">
                            <input class="layui-input" type="text" name="nextAnnualInspectionTime" required lay-verify="required">
                        </div>
                    </div>
                    <div class="layui-form-item layui-input-inline">
                        <label class="layui-form-label"><span style="color: #377aff">*</span>排量</label>
                        <div class="layui-input-block">
                            <input class="layui-input" type="text" name="displacement" required lay-verify="required">
                        </div>
                    </div>
                    <div class="layui-form-item layui-input-inline">
                        <label class="layui-form-label"><span style="color: #377aff">*</span>等级</label>
                        <div class="layui-input-block">
                            <select id="level" name="levelId" lay-verify="required">
                                <option value=""></option>
                            </select>
                        </div>
                    </div>
                    <div class="layui-form-item layui-input-inline">
                        <label class="layui-form-label"><span style="color: #377aff">*</span>业务用途</label>
                        <div class="layui-input-block">
                            <select id="businessPurpose" name="businessPurposeId" lay-verify="required">
                                <option value=""></option>
                            </select>
                        </div>
                    </div>
                    <div class="layui-form-item layui-input-inline">
                        <label class="layui-form-label"><span style="color: #377aff">*</span>运营范围</label>
                        <div class="layui-input-block">
                            <select id="scopeOfBusiness" name="scopeOfBusinessId" lay-verify="required" >
                                <option value=""></option>
                            </select>
                        </div>
                    </div>
                    <div class="layui-form-item layui-input-inline">
                        <label class="layui-form-label"><span style="color: #377aff">*</span>所属供应商</label>
                        <div class="layui-input-block">
                            <select id="subordinateSuppliers" name="subordinateSuppliersId" lay-verify="required">
                                <option value=""></option>
                            </select>
                        </div>
                    </div>
                    <div class="layui-form-item layui-input-inline">
                        <label class="layui-form-label"><span style="color: #377aff">*</span>载客数</label>
                        <div class="layui-input-block">
                            <input class="layui-input" type="text" name="seatsOfGuests" placeholder="不包含驾驶员" required lay-verify="required">
                        </div>
                    </div>
                    <div class="layui-form-item layui-input-inline">
                        <label class="layui-form-label"><span style="color: #377aff">*</span>里程数</label>
                        <div class="layui-input-block">
                            <input class="layui-input" type="text" name="mileage" required lay-verify="required">
                        </div>
                    </div>
                    <div class="layui-form-item layui-input-inline">
                        <label class="layui-form-label"><span style="color: #377aff">*</span>行驶证号</label>
                        <div class="layui-input-block" >
                            <input  class="layui-input" type="text" name="drivingLicenseNumber" required lay-verify="required">
                        </div>
                    </div>
                    <div class="layui-form-item layui-input-inline">
                        <label class="layui-form-label">调度权</label>
                        <div id="dispatchingRightId" class="layui-input-block">
                        </div>
                    </div>
                    <div class="layui-form-item layui-form-text">
                        <label class="layui-form-label">备注</label>
                        <div class="layui-input-block">
                            <textarea name="remarks" placeholder="请输入内容" class="layui-textarea"></textarea>
                        </div>
                    </div>
                    <!-- 图片地址 -->
                    <input type="hidden" name="imageUrl" id="imageUrl">
                    <div class="layui-form-item ">
                        <div class="layui-input-block">
                            <button class="layui-btn" lay-submit lay-filter="formDemo">立即提交</button>
                            <button type="reset" class="layui-btn layui-btn-primary">重置</button>
                        </div>
                    </div>
                </div>
            </form>
            <!-- 右侧 -->
            <div class="lable-right" style="width: 30%;float: right">
                <!-- 上传图片 -->
                <div class="layui-upload-drag" id="upload">
                    <i class="layui-icon hide-custom"></i>
                    <p class="hide-custom">点击上传，或将文件拖拽到此处</p>
                    <img class="uploadImage" style="display: none" src="" id="uploadImage">
                </div>
            </div>
        </div>
    </div>
</body>
</html>